{"ast":null,"code":"import React,{useEffect,useMemo,useState}from'react';import{createPrescription,listDoctors,listPatients,searchPatientsByContact,listPrescriptions,listAppointments}from'../../api';import Modal from'../common/Modal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PrescriptionForm=()=>{const[doctors,setDoctors]=useState([]);const[patientSearch,setPatientSearch]=useState('');const[patientId,setPatientId]=useState('');const[selectedPatient,setSelectedPatient]=useState(null);const[patientMatches,setPatientMatches]=useState([]);const[patientModalOpen,setPatientModalOpen]=useState(false);const[doctorQuery,setDoctorQuery]=useState('');const[doctorId,setDoctorId]=useState('');const[loading,setLoading]=useState(false);const[message,setMessage]=useState(null);const[previousVisits,setPreviousVisits]=useState([]);const[loadingVisits,setLoadingVisits]=useState(false);const refreshDoctors=async()=>{try{const data=await listDoctors();setDoctors(data);}catch(e){console.error('Error refreshing doctors:',e);}};useEffect(()=>{(async()=>{const[p,d]=await Promise.all([listPatients(),listDoctors()]);setDoctors(d);const sel=localStorage.getItem('orthonova_selected_patient_id');if(sel){const found=p.find(pt=>pt.id===sel);if(found){setPatientId(sel);setSelectedPatient(found);}localStorage.removeItem('orthonova_selected_patient_id');}})();},[]);const filteredDoctors=useMemo(()=>{const q=doctorQuery.trim().toLowerCase();if(!q)return[];return doctors.filter(d=>d.name.toLowerCase().includes(q));},[doctorQuery,doctors]);const onSelectDoctor=d=>{setDoctorId(d.id);setDoctorQuery(d.name);};const onSearchPatient=async()=>{setMessage(null);const rows=await searchPatientsByContact(patientSearch);if(rows.length===1){setPatientId(rows[0].id);setSelectedPatient(rows[0]);setPatientMatches([]);await loadPreviousVisits(rows[0].id);}else if(rows.length>1){setPatientMatches(rows);setPatientModalOpen(true);}else{setSelectedPatient(null);setPatientId('');setPreviousVisits([]);setMessage('No patients found for that contact');}};const loadPreviousVisits=async patId=>{setLoadingVisits(true);try{const[prescriptions,appointments]=await Promise.all([listPrescriptions(),listAppointments({patient_id:patId})]);const patientPrescriptions=prescriptions.filter(p=>p.patient_id===patId);const visits=patientPrescriptions.map(prescription=>{const appointment=appointments.find(a=>a.patient_id===patId&&a.doctor_id===prescription.doctor_id&&new Date(a.created_at).toDateString()===new Date(prescription.created_at).toDateString());return{prescription,appointment};}).slice(0,5);// Show last 5 visits\nsetPreviousVisits(visits);}catch(e){console.error('Error loading previous visits:',e);}finally{setLoadingVisits(false);}};const onSubmit=async e=>{e.preventDefault();setMessage(null);if(!patientId||!doctorId){setMessage('Select patient and doctor');return;}setLoading(true);try{const{id}=await createPrescription({patient_id:patientId,doctor_id:doctorId,diagnosis:'',medicines:'',advice:''});localStorage.setItem('orthonova_last_prescription_id',id);setMessage('Prescription generated');const win=window.open(\"\".concat(window.location.origin,\"/print/prescription/\").concat(id),'_blank');if(win)win.focus();}catch(e){setMessage(e.message);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Generate Prescription\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium\",children:\"Patient Contact\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-1\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter contact number\",className:\"flex-1 rounded-xl border border-gray-300 bg-white focus:border-brand-500 focus:ring-brand-500\",value:patientSearch,onChange:e=>setPatientSearch(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:onSearchPatient,children:\"Search\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs text-gray-600\",children:\"Patient Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"mt-1 w-full rounded-xl border border-gray-300 bg-gray-50\",value:(selectedPatient===null||selectedPatient===void 0?void 0:selectedPatient.name)||'',readOnly:true,placeholder:\"No patient selected\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium\",children:\"Doctor\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"text-xs text-brand-600 hover:text-brand-800\",onClick:refreshDoctors,children:\"Refresh List\"})]}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Type to search doctor by name\",className:\"mt-1 w-full rounded-xl border border-gray-300 bg-white focus:border-brand-500 focus:ring-brand-500\",value:doctorQuery,onChange:e=>{setDoctorQuery(e.target.value);setDoctorId('');}}),doctorQuery.trim().length>0&&!doctorId&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 max-h-40 overflow-y-auto border border-gray-200 rounded-xl divide-y divide-gray-100\",children:[filteredDoctors.map(d=>/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-2 cursor-pointer hover:bg-gray-50 \".concat(doctorId===d.id?'bg-brand-50':''),onClick:()=>onSelectDoctor(d),children:d.name},d.id)),filteredDoctors.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-2 text-sm text-gray-500\",children:\"No match\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",disabled:loading,children:\"Generate\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>{const id=localStorage.getItem('orthonova_last_prescription_id');if(!id){setMessage('No recent prescription to reprint');return;}const win=window.open(\"\".concat(window.location.origin,\"/print/prescription/\").concat(id),'_blank');if(win)win.focus();},children:\"Reprint Last\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-2\",children:message})]})]}),selectedPatient&&/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Previous Visit Details\"}),loadingVisits?/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Loading previous visits...\"}):previousVisits.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:previousVisits.map((visit,idx)=>{var _visit$appointment;return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-xl p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium text-gray-700\",children:[\"Visit #\",previousVisits.length-idx]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:new Date(visit.prescription.created_at).toLocaleDateString('en-IN',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'})})]}),visit.appointment&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-1 rounded-full \".concat(visit.appointment.status==='completed'?'bg-green-100 text-green-700':visit.appointment.status==='cancelled'?'bg-red-100 text-red-700':'bg-blue-100 text-blue-700'),children:visit.appointment.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 text-sm\",children:[visit.prescription.diagnosis&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-600\",children:\"Diagnosis: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-800\",children:visit.prescription.diagnosis})]}),visit.prescription.medicines&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-600\",children:\"Medicines: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-800\",children:visit.prescription.medicines})]}),visit.prescription.advice&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-600\",children:\"Advice: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-800\",children:visit.prescription.advice})]}),((_visit$appointment=visit.appointment)===null||_visit$appointment===void 0?void 0:_visit$appointment.notes)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-600\",children:\"Notes: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-800\",children:visit.appointment.notes})]})]})]},visit.prescription.id);})}):/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"No previous visits found for this patient.\"})]}),/*#__PURE__*/_jsx(Modal,{open:patientModalOpen,title:\"Select Patient\",onClose:()=>setPatientModalOpen(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"divide-y divide-gray-100\",children:[patientMatches.map(p=>/*#__PURE__*/_jsx(\"div\",{className:\"py-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium\",children:[p.name,\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"(\",p.age,\" / \",p.gender,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[p.patient_id,\" \\u2022 \",p.contact]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:async()=>{setPatientId(p.id);setSelectedPatient(p);setPatientModalOpen(false);setPatientMatches([]);await loadPreviousVisits(p.id);},children:\"Select\"})]})},p.id)),patientMatches.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"py-4 text-sm text-gray-500\",children:\"No matches.\"})]})})]});};export default PrescriptionForm;","map":{"version":3,"names":["React","useEffect","useMemo","useState","createPrescription","listDoctors","listPatients","searchPatientsByContact","listPrescriptions","listAppointments","Modal","jsx","_jsx","jsxs","_jsxs","PrescriptionForm","doctors","setDoctors","patientSearch","setPatientSearch","patientId","setPatientId","selectedPatient","setSelectedPatient","patientMatches","setPatientMatches","patientModalOpen","setPatientModalOpen","doctorQuery","setDoctorQuery","doctorId","setDoctorId","loading","setLoading","message","setMessage","previousVisits","setPreviousVisits","loadingVisits","setLoadingVisits","refreshDoctors","data","e","console","error","p","d","Promise","all","sel","localStorage","getItem","found","find","pt","id","removeItem","filteredDoctors","q","trim","toLowerCase","filter","name","includes","onSelectDoctor","onSearchPatient","rows","length","loadPreviousVisits","patId","prescriptions","appointments","patient_id","patientPrescriptions","visits","map","prescription","appointment","a","doctor_id","Date","created_at","toDateString","slice","onSubmit","preventDefault","diagnosis","medicines","advice","setItem","win","window","open","concat","location","origin","focus","className","children","placeholder","value","onChange","target","type","onClick","readOnly","disabled","visit","idx","_visit$appointment","toLocaleDateString","year","month","day","hour","minute","status","notes","title","onClose","age","gender","contact"],"sources":["C:/Users/Me/Desktop/orthnova-app/orthnova-offline/src/components/prescriptions/PrescriptionForm.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\r\nimport { createPrescription, listDoctors, listPatients, searchPatientsByContact, listPrescriptions, listAppointments } from '../../api';\r\nimport { DoctorRow, PatientRow, PrescriptionRow, AppointmentRow } from '../../types';\r\nimport Modal from '../common/Modal';\r\n\r\nconst PrescriptionForm: React.FC = () => {\r\n  const [doctors, setDoctors] = useState<DoctorRow[]>([]);\r\n\r\n  const [patientSearch, setPatientSearch] = useState('');\r\n  const [patientId, setPatientId] = useState('');\r\n  const [selectedPatient, setSelectedPatient] = useState<PatientRow | null>(null);\r\n  const [patientMatches, setPatientMatches] = useState<PatientRow[]>([]);\r\n  const [patientModalOpen, setPatientModalOpen] = useState(false);\r\n\r\n  const [doctorQuery, setDoctorQuery] = useState('');\r\n  const [doctorId, setDoctorId] = useState('');\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState<string | null>(null);\r\n\r\n  const [previousVisits, setPreviousVisits] = useState<{ prescription: PrescriptionRow; appointment?: AppointmentRow }[]>([]);\r\n  const [loadingVisits, setLoadingVisits] = useState(false);\r\n\r\n  const refreshDoctors = async () => {\r\n    try {\r\n      const data = await listDoctors();\r\n      setDoctors(data);\r\n    } catch (e: any) {\r\n      console.error('Error refreshing doctors:', e);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const [p, d] = await Promise.all([listPatients(), listDoctors()]);\r\n      setDoctors(d);\r\n      const sel = localStorage.getItem('orthonova_selected_patient_id');\r\n      if (sel) {\r\n        const found = p.find(pt => pt.id === sel);\r\n        if (found) {\r\n          setPatientId(sel);\r\n          setSelectedPatient(found);\r\n        }\r\n        localStorage.removeItem('orthonova_selected_patient_id');\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const filteredDoctors = useMemo(() => {\r\n    const q = doctorQuery.trim().toLowerCase();\r\n    if (!q) return [];\r\n    return doctors.filter(d => d.name.toLowerCase().includes(q));\r\n  }, [doctorQuery, doctors]);\r\n\r\n  const onSelectDoctor = (d: DoctorRow) => {\r\n    setDoctorId(d.id);\r\n    setDoctorQuery(d.name);\r\n  };\r\n\r\n  const onSearchPatient = async () => {\r\n    setMessage(null);\r\n    const rows = await searchPatientsByContact(patientSearch);\r\n    if (rows.length === 1) {\r\n      setPatientId(rows[0].id);\r\n      setSelectedPatient(rows[0]);\r\n      setPatientMatches([]);\r\n      await loadPreviousVisits(rows[0].id);\r\n    } else if (rows.length > 1) {\r\n      setPatientMatches(rows);\r\n      setPatientModalOpen(true);\r\n    } else {\r\n      setSelectedPatient(null);\r\n      setPatientId('');\r\n      setPreviousVisits([]);\r\n      setMessage('No patients found for that contact');\r\n    }\r\n  };\r\n\r\n  const loadPreviousVisits = async (patId: string) => {\r\n    setLoadingVisits(true);\r\n    try {\r\n      const [prescriptions, appointments] = await Promise.all([\r\n        listPrescriptions(),\r\n        listAppointments({ patient_id: patId })\r\n      ]);\r\n      \r\n      const patientPrescriptions = prescriptions.filter(p => p.patient_id === patId);\r\n      const visits = patientPrescriptions.map(prescription => {\r\n        const appointment = appointments.find(a => \r\n          a.patient_id === patId && \r\n          a.doctor_id === prescription.doctor_id &&\r\n          new Date(a.created_at).toDateString() === new Date(prescription.created_at).toDateString()\r\n        );\r\n        return { prescription, appointment };\r\n      }).slice(0, 5); // Show last 5 visits\r\n      \r\n      setPreviousVisits(visits);\r\n    } catch (e: any) {\r\n      console.error('Error loading previous visits:', e);\r\n    } finally {\r\n      setLoadingVisits(false);\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault(); setMessage(null);\r\n    if (!patientId || !doctorId) { setMessage('Select patient and doctor'); return; }\r\n    setLoading(true);\r\n    try {\r\n      const { id } = await createPrescription({ patient_id: patientId, doctor_id: doctorId, diagnosis: '', medicines: '', advice: '' });\r\n      localStorage.setItem('orthonova_last_prescription_id', id);\r\n      setMessage('Prescription generated');\r\n      const win = window.open(`${window.location.origin}/print/prescription/${id}`, '_blank');\r\n      if (win) win.focus();\r\n    } catch (e: any) { setMessage(e.message); }\r\n    finally { setLoading(false); }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"card p-6\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Generate Prescription</h2>\r\n        <form onSubmit={onSubmit} className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium\">Patient Contact</label>\r\n              <div className=\"flex gap-2 mt-1\">\r\n                <input\r\n                  placeholder=\"Enter contact number\"\r\n                  className=\"flex-1 rounded-xl border border-gray-300 bg-white focus:border-brand-500 focus:ring-brand-500\"\r\n                  value={patientSearch}\r\n                  onChange={e => setPatientSearch(e.target.value)}\r\n                />\r\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={onSearchPatient}>Search</button>\r\n              </div>\r\n              <div className=\"mt-2\">\r\n                <label className=\"block text-xs text-gray-600\">Patient Name</label>\r\n                <input className=\"mt-1 w-full rounded-xl border border-gray-300 bg-gray-50\" value={selectedPatient?.name || ''} readOnly placeholder=\"No patient selected\" />\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <label className=\"block text-sm font-medium\">Doctor</label>\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"text-xs text-brand-600 hover:text-brand-800\"\r\n                  onClick={refreshDoctors}\r\n                >\r\n                  Refresh List\r\n                </button>\r\n              </div>\r\n              <input\r\n                placeholder=\"Type to search doctor by name\"\r\n                className=\"mt-1 w-full rounded-xl border border-gray-300 bg-white focus:border-brand-500 focus:ring-brand-500\"\r\n                value={doctorQuery}\r\n                onChange={e => { setDoctorQuery(e.target.value); setDoctorId(''); }}\r\n              />\r\n              {doctorQuery.trim().length > 0 && !doctorId && (\r\n                <div className=\"mt-2 max-h-40 overflow-y-auto border border-gray-200 rounded-xl divide-y divide-gray-100\">\r\n                  {filteredDoctors.map(d => (\r\n                    <div key={d.id} className={`px-3 py-2 cursor-pointer hover:bg-gray-50 ${doctorId === d.id ? 'bg-brand-50' : ''}`} onClick={() => onSelectDoctor(d)}>\r\n                      {d.name}\r\n                    </div>\r\n                  ))}\r\n                  {filteredDoctors.length === 0 && <div className=\"px-3 py-2 text-sm text-gray-500\">No match</div>}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-3\">\r\n            <button className=\"btn btn-primary\" disabled={loading}>Generate</button>\r\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={() => {\r\n              const id = localStorage.getItem('orthonova_last_prescription_id');\r\n              if (!id) { setMessage('No recent prescription to reprint'); return; }\r\n              const win = window.open(`${window.location.origin}/print/prescription/${id}`, '_blank'); if (win) win.focus();\r\n            }}>Reprint Last</button>\r\n          </div>\r\n          {message && <p className=\"text-sm mt-2\">{message}</p>}\r\n        </form>\r\n      </div>\r\n\r\n      {selectedPatient && (\r\n        <div className=\"card p-6\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Previous Visit Details</h3>\r\n          {loadingVisits ? (\r\n            <p className=\"text-sm text-gray-500\">Loading previous visits...</p>\r\n          ) : previousVisits.length > 0 ? (\r\n            <div className=\"space-y-3\">\r\n              {previousVisits.map((visit, idx) => (\r\n                <div key={visit.prescription.id} className=\"border border-gray-200 rounded-xl p-4\">\r\n                  <div className=\"flex justify-between items-start mb-2\">\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-gray-700\">Visit #{previousVisits.length - idx}</p>\r\n                      <p className=\"text-xs text-gray-500\">\r\n                        {new Date(visit.prescription.created_at).toLocaleDateString('en-IN', {\r\n                          year: 'numeric',\r\n                          month: 'short',\r\n                          day: 'numeric',\r\n                          hour: '2-digit',\r\n                          minute: '2-digit'\r\n                        })}\r\n                      </p>\r\n                    </div>\r\n                    {visit.appointment && (\r\n                      <span className={`text-xs px-2 py-1 rounded-full ${\r\n                        visit.appointment.status === 'completed' ? 'bg-green-100 text-green-700' :\r\n                        visit.appointment.status === 'cancelled' ? 'bg-red-100 text-red-700' :\r\n                        'bg-blue-100 text-blue-700'\r\n                      }`}>\r\n                        {visit.appointment.status}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"space-y-1 text-sm\">\r\n                    {visit.prescription.diagnosis && (\r\n                      <div>\r\n                        <span className=\"font-medium text-gray-600\">Diagnosis: </span>\r\n                        <span className=\"text-gray-800\">{visit.prescription.diagnosis}</span>\r\n                      </div>\r\n                    )}\r\n                    {visit.prescription.medicines && (\r\n                      <div>\r\n                        <span className=\"font-medium text-gray-600\">Medicines: </span>\r\n                        <span className=\"text-gray-800\">{visit.prescription.medicines}</span>\r\n                      </div>\r\n                    )}\r\n                    {visit.prescription.advice && (\r\n                      <div>\r\n                        <span className=\"font-medium text-gray-600\">Advice: </span>\r\n                        <span className=\"text-gray-800\">{visit.prescription.advice}</span>\r\n                      </div>\r\n                    )}\r\n                    {visit.appointment?.notes && (\r\n                      <div>\r\n                        <span className=\"font-medium text-gray-600\">Notes: </span>\r\n                        <span className=\"text-gray-800\">{visit.appointment.notes}</span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-sm text-gray-500\">No previous visits found for this patient.</p>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      <Modal open={patientModalOpen} title=\"Select Patient\" onClose={() => setPatientModalOpen(false)}>\r\n        <div className=\"divide-y divide-gray-100\">\r\n          {patientMatches.map(p => (\r\n            <div key={p.id} className=\"py-2\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <div className=\"font-medium\">{p.name} <span className=\"text-xs text-gray-500\">({p.age} / {p.gender})</span></div>\r\n                  <div className=\"text-xs text-gray-500\">{p.patient_id} â€¢ {p.contact}</div>\r\n                </div>\r\n                <button className=\"btn btn-secondary\" onClick={async () => { \r\n                  setPatientId(p.id); \r\n                  setSelectedPatient(p); \r\n                  setPatientModalOpen(false); \r\n                  setPatientMatches([]);\r\n                  await loadPreviousVisits(p.id);\r\n                }}>Select</button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          {patientMatches.length === 0 && <div className=\"py-4 text-sm text-gray-500\">No matches.</div>}\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrescriptionForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}