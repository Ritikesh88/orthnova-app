{"ast":null,"code":"import React,{useState,useEffect}from'react';import{adminSummary,getTopDoctors,getTopServices,getPendingAppointments,listPatients,listDoctors}from'../../api';import{formatCurrency}from'../../utils/format';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminDashboard=()=>{const[selectedDate,setSelectedDate]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[summary,setSummary]=useState(null);const[topDoctors,setTopDoctors]=useState([]);const[topServices,setTopServices]=useState([]);const[pendingAppointments,setPendingAppointments]=useState([]);const[showPendingModal,setShowPendingModal]=useState(false);const[patientDetails,setPatientDetails]=useState({});const[doctorDetails,setDoctorDetails]=useState({});// Set default date to today\nuseEffect(()=>{const today=new Date().toISOString().split('T')[0];setSelectedDate(today);},[]);// Fetch data when date changes\nuseEffect(()=>{if(selectedDate){fetchDashboardData();}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[selectedDate]);const fetchDashboardData=async()=>{setLoading(true);setError(null);try{const endDate=\"\".concat(selectedDate,\"T23:59:59\");const startDate=\"\".concat(selectedDate,\"T00:00:00\");const[summaryData,doctors,services,pending]=await Promise.all([adminSummary(selectedDate),getTopDoctors(startDate,endDate,5),getTopServices(startDate,endDate,5),getPendingAppointments(selectedDate)]);setSummary(summaryData);setTopDoctors(doctors);setTopServices(services);setPendingAppointments(pending);// Fetch patient and doctor details for pending appointments\nif(pending.length>0){// Get unique patient and doctor IDs\nconst patientIds=[];const doctorIds=[];pending.forEach(a=>{if(a.patient_id&&!patientIds.includes(a.patient_id)){patientIds.push(a.patient_id);}if(a.doctor_id&&!doctorIds.includes(a.doctor_id)){doctorIds.push(a.doctor_id);}});// Fetch details in parallel\nconst[patients,doctors]=await Promise.all([patientIds.length>0?listPatients():Promise.resolve([]),doctorIds.length>0?listDoctors():Promise.resolve([])]);// Create lookup maps\nconst patientMap={};const doctorMap={};patients.forEach(p=>{patientMap[p.id]=p;});doctors.forEach(d=>{doctorMap[d.id]=d;});setPatientDetails(patientMap);setDoctorDetails(doctorMap);}}catch(e){console.error('Error fetching dashboard data:',e);setError(e.message||'Failed to load dashboard data');}finally{setLoading(false);}};const handleDateChange=date=>{setSelectedDate(date);};const handleAppointmentAction=(appointmentId,action)=>{console.log(\"Appointment \".concat(appointmentId,\" marked as \").concat(action));// TODO: Implement actual appointment action handling\n// This would involve updating the appointment status in the database\nalert(\"Appointment action: \".concat(action,\" - This would be implemented in a real application\"));};// Calculate paid vs pending from summary\nconst paidBills=summary?Math.round(summary.total_bills*0.8):0;// Estimate\nconst pendingBills=summary?summary.total_bills-paidBills:0;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Admin Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:[\"Analytics for \",new Date(selectedDate).toLocaleDateString('en-IN',{weekday:'long',year:'numeric',month:'long',day:'numeric'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Select Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:selectedDate,onChange:e=>handleDateChange(e.target.value),className:\"rounded-xl border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500\"})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-xl p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 text-sm\",children:error})}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-block animate-spin rounded-full h-8 w-8 border-4 border-brand-500 border-t-transparent\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mt-2\",children:\"Loading dashboard data...\"})]}),!loading&&summary&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-brand-500 to-brand-600 rounded-2xl shadow-md p-6 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-90 font-medium\",children:\"Total Revenue\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold mt-2\",children:formatCurrency(summary.net_amount)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs opacity-75 mt-1\",children:[\"from \",summary.total_bills,\" bills\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white bg-opacity-20 rounded-full p-3\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl shadow-md p-6 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-90 font-medium\",children:\"Total Appointments\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold mt-2\",children:summary.total_appointments}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs opacity-75 mt-1\",children:[summary.pending_appointments,\" pending\"]}),summary.pending_appointments>0&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPendingModal(true),className:\"text-xs underline mt-1\",children:\"View Details\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white bg-opacity-20 rounded-full p-3\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl shadow-md p-6 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-90 font-medium\",children:\"Paid Bills\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold mt-2\",children:paidBills}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs opacity-75 mt-1\",children:[Math.round(paidBills/(summary.total_bills||1)*100),\"% of total\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white bg-opacity-20 rounded-full p-3\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl shadow-md p-6 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-90 font-medium\",children:\"Pending Bills\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold mt-2\",children:pendingBills}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs opacity-75 mt-1\",children:[Math.round(pendingBills/(summary.total_bills||1)*100),\"% of total\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white bg-opacity-20 rounded-full p-3\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 font-medium\",children:\"Total Amount\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900 mt-1\",children:formatCurrency(summary.total_amount)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 font-medium\",children:\"Total Discount\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-red-600 mt-1\",children:formatCurrency(summary.total_discount)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 font-medium\",children:\"Average Bill Value\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900 mt-1\",children:formatCurrency(summary.total_bills>0?summary.net_amount/summary.total_bills:0)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-brand-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"})}),\"Top 5 Doctors by Revenue\"]}),topDoctors.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:topDoctors.map((doctor,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-brand-100 text-brand-600 rounded-full flex items-center justify-center font-bold text-sm\",children:idx+1}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:doctor.doctor_name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[doctor.total_bills,\" bills\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-brand-600\",children:formatCurrency(doctor.total_revenue)})})]},doctor.doctor_id))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500 py-8\",children:\"No doctor data available for this date\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-brand-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\"})}),\"Top 5 Services by Usage\"]}),topServices.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:topServices.map((service,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold text-sm\",children:idx+1}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:service.service_name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[service.usage_count,\" times used\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-blue-600\",children:formatCurrency(service.total_revenue)})})]},service.service_id))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500 py-8\",children:\"No service data available for this date\"})]})]})]}),showPendingModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-200 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Pending Appointments\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPendingModal(false),className:\"text-gray-400 hover:text-gray-500\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-y-auto flex-1\",children:pendingAppointments.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Patient\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Doctor\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:pendingAppointments.map(appointment=>{var _patientDetails$appoi,_patientDetails$appoi2,_doctorDetails$appoin;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:appointment.patient_id?((_patientDetails$appoi=patientDetails[appointment.patient_id])===null||_patientDetails$appoi===void 0?void 0:_patientDetails$appoi.name)||'Unknown Patient':appointment.guest_name||'Guest'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:appointment.patient_id?((_patientDetails$appoi2=patientDetails[appointment.patient_id])===null||_patientDetails$appoi2===void 0?void 0:_patientDetails$appoi2.contact)||'N/A':appointment.guest_contact||'N/A'})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:new Date(appointment.appointment_datetime).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:((_doctorDetails$appoin=doctorDetails[appointment.doctor_id])===null||_doctorDetails$appoin===void 0?void 0:_doctorDetails$appoin.name)||'Unknown Doctor'}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAppointmentAction(appointment.id,'attended'),className:\"text-green-600 hover:text-green-900 mr-3\",children:\"Attended\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAppointmentAction(appointment.id,'reschedule'),className:\"text-blue-600 hover:text-blue-900 mr-3\",children:\"Reschedule\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAppointmentAction(appointment.id,'cancel'),className:\"text-red-600 hover:text-red-900\",children:\"Cancel\"})]})]},appointment.id);})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No pending appointments found\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 bg-gray-50 border-t border-gray-200\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPendingModal(false),className:\"btn btn-secondary\",children:\"Close\"})})]})})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useState","useEffect","adminSummary","getTopDoctors","getTopServices","getPendingAppointments","listPatients","listDoctors","formatCurrency","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminDashboard","selectedDate","setSelectedDate","loading","setLoading","error","setError","summary","setSummary","topDoctors","setTopDoctors","topServices","setTopServices","pendingAppointments","setPendingAppointments","showPendingModal","setShowPendingModal","patientDetails","setPatientDetails","doctorDetails","setDoctorDetails","today","Date","toISOString","split","fetchDashboardData","endDate","concat","startDate","summaryData","doctors","services","pending","Promise","all","length","patientIds","doctorIds","forEach","a","patient_id","includes","push","doctor_id","patients","resolve","patientMap","doctorMap","p","id","d","e","console","message","handleDateChange","date","handleAppointmentAction","appointmentId","action","log","alert","paidBills","Math","round","total_bills","pendingBills","className","children","toLocaleDateString","weekday","year","month","day","type","value","onChange","target","net_amount","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","total_appointments","pending_appointments","onClick","total_amount","total_discount","map","doctor","idx","doctor_name","total_revenue","service","service_name","usage_count","service_id","appointment","_patientDetails$appoi","_patientDetails$appoi2","_doctorDetails$appoin","name","guest_name","contact","guest_contact","appointment_datetime","toLocaleTimeString","hour","minute"],"sources":["C:/Users/Me/Desktop/orthnova-app/orthnova-offline/src/components/admin/AdminDashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { adminSummary, getTopDoctors, getTopServices, getPendingAppointments, listPatients, listDoctors, AdminSummary, TopDoctor, TopService } from '../../api';\r\nimport { formatCurrency } from '../../utils/format';\r\n\r\nconst AdminDashboard: React.FC = () => {\r\n  const [selectedDate, setSelectedDate] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const [summary, setSummary] = useState<AdminSummary | null>(null);\r\n  const [topDoctors, setTopDoctors] = useState<TopDoctor[]>([]);\r\n  const [topServices, setTopServices] = useState<TopService[]>([]);\r\n  const [pendingAppointments, setPendingAppointments] = useState<any[]>([]);\r\n  const [showPendingModal, setShowPendingModal] = useState(false);\r\n  const [patientDetails, setPatientDetails] = useState<Record<string, any>>({});\r\n  const [doctorDetails, setDoctorDetails] = useState<Record<string, any>>({});\r\n\r\n  // Set default date to today\r\n  useEffect(() => {\r\n    const today = new Date().toISOString().split('T')[0];\r\n    setSelectedDate(today);\r\n  }, []);\r\n\r\n  // Fetch data when date changes\r\n  useEffect(() => {\r\n    if (selectedDate) {\r\n      fetchDashboardData();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectedDate]);\r\n\r\n  const fetchDashboardData = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const endDate = `${selectedDate}T23:59:59`;\r\n      const startDate = `${selectedDate}T00:00:00`;\r\n\r\n      const [summaryData, doctors, services, pending] = await Promise.all([\r\n        adminSummary(selectedDate),\r\n        getTopDoctors(startDate, endDate, 5),\r\n        getTopServices(startDate, endDate, 5),\r\n        getPendingAppointments(selectedDate)\r\n      ]);\r\n\r\n      setSummary(summaryData);\r\n      setTopDoctors(doctors);\r\n      setTopServices(services);\r\n      setPendingAppointments(pending);\r\n      \r\n      // Fetch patient and doctor details for pending appointments\r\n      if (pending.length > 0) {\r\n        // Get unique patient and doctor IDs\r\n        const patientIds: string[] = [];\r\n        const doctorIds: string[] = [];\r\n        \r\n        pending.forEach((a: any) => {\r\n          if (a.patient_id && !patientIds.includes(a.patient_id)) {\r\n            patientIds.push(a.patient_id);\r\n          }\r\n          if (a.doctor_id && !doctorIds.includes(a.doctor_id)) {\r\n            doctorIds.push(a.doctor_id);\r\n          }\r\n        });\r\n        \r\n        // Fetch details in parallel\r\n        const [patients, doctors] = await Promise.all([\r\n          patientIds.length > 0 ? listPatients() : Promise.resolve([]),\r\n          doctorIds.length > 0 ? listDoctors() : Promise.resolve([])\r\n        ]);\r\n        \r\n        // Create lookup maps\r\n        const patientMap: Record<string, any> = {};\r\n        const doctorMap: Record<string, any> = {};\r\n        \r\n        patients.forEach((p: any) => {\r\n          patientMap[p.id] = p;\r\n        });\r\n        \r\n        doctors.forEach((d: any) => {\r\n          doctorMap[d.id] = d;\r\n        });\r\n        \r\n        setPatientDetails(patientMap);\r\n        setDoctorDetails(doctorMap);\r\n      }\r\n    } catch (e: any) {\r\n      console.error('Error fetching dashboard data:', e);\r\n      setError(e.message || 'Failed to load dashboard data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDateChange = (date: string) => {\r\n    setSelectedDate(date);\r\n  };\r\n  \r\n  const handleAppointmentAction = (appointmentId: string, action: string) => {\r\n    console.log(`Appointment ${appointmentId} marked as ${action}`);\r\n    // TODO: Implement actual appointment action handling\r\n    // This would involve updating the appointment status in the database\r\n    alert(`Appointment action: ${action} - This would be implemented in a real application`);\r\n  };\r\n\r\n  // Calculate paid vs pending from summary\r\n  const paidBills = summary ? Math.round(summary.total_bills * 0.8) : 0; // Estimate\r\n  const pendingBills = summary ? summary.total_bills - paidBills : 0;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">Admin Dashboard</h1>\r\n          <p className=\"text-sm text-gray-500 mt-1\">\r\n            Analytics for {new Date(selectedDate).toLocaleDateString('en-IN', { \r\n              weekday: 'long', \r\n              year: 'numeric', \r\n              month: 'long', \r\n              day: 'numeric' \r\n            })}\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-3\">\r\n          <label className=\"text-sm font-medium text-gray-700\">Select Date:</label>\r\n          <input\r\n            type=\"date\"\r\n            value={selectedDate}\r\n            onChange={(e) => handleDateChange(e.target.value)}\r\n            className=\"rounded-xl border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Error Message */}\r\n      {error && (\r\n        <div className=\"bg-red-50 border border-red-200 rounded-xl p-4\">\r\n          <p className=\"text-red-600 text-sm\">{error}</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Loading State */}\r\n      {loading && (\r\n        <div className=\"text-center py-12\">\r\n          <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-4 border-brand-500 border-t-transparent\"></div>\r\n          <p className=\"text-gray-500 mt-2\">Loading dashboard data...</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main Metrics Grid */}\r\n      {!loading && summary && (\r\n        <>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n            {/* Total Revenue */}\r\n            <div className=\"bg-gradient-to-br from-brand-500 to-brand-600 rounded-2xl shadow-md p-6 text-white\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm opacity-90 font-medium\">Total Revenue</p>\r\n                  <p className=\"text-3xl font-bold mt-2\">{formatCurrency(summary.net_amount)}</p>\r\n                  <p className=\"text-xs opacity-75 mt-1\">from {summary.total_bills} bills</p>\r\n                </div>\r\n                <div className=\"bg-white bg-opacity-20 rounded-full p-3\">\r\n                  <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Total Appointments */}\r\n            <div className=\"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl shadow-md p-6 text-white\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm opacity-90 font-medium\">Total Appointments</p>\r\n                  <p className=\"text-3xl font-bold mt-2\">{summary.total_appointments}</p>\r\n                  <p className=\"text-xs opacity-75 mt-1\">{summary.pending_appointments} pending</p>\r\n                  {summary.pending_appointments > 0 && (\r\n                    <button \r\n                      onClick={() => setShowPendingModal(true)}\r\n                      className=\"text-xs underline mt-1\"\r\n                    >\r\n                      View Details\r\n                    </button>\r\n                  )}\r\n                </div>\r\n                <div className=\"bg-white bg-opacity-20 rounded-full p-3\">\r\n                  <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Paid Bills */}\r\n            <div className=\"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl shadow-md p-6 text-white\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm opacity-90 font-medium\">Paid Bills</p>\r\n                  <p className=\"text-3xl font-bold mt-2\">{paidBills}</p>\r\n                  <p className=\"text-xs opacity-75 mt-1\">{Math.round((paidBills / (summary.total_bills || 1)) * 100)}% of total</p>\r\n                </div>\r\n                <div className=\"bg-white bg-opacity-20 rounded-full p-3\">\r\n                  <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Pending Bills */}\r\n            <div className=\"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl shadow-md p-6 text-white\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm opacity-90 font-medium\">Pending Bills</p>\r\n                  <p className=\"text-3xl font-bold mt-2\">{pendingBills}</p>\r\n                  <p className=\"text-xs opacity-75 mt-1\">{Math.round((pendingBills / (summary.total_bills || 1)) * 100)}% of total</p>\r\n                </div>\r\n                <div className=\"bg-white bg-opacity-20 rounded-full p-3\">\r\n                  <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Secondary Metrics */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            <div className=\"card p-4\">\r\n              <p className=\"text-sm text-gray-600 font-medium\">Total Amount</p>\r\n              <p className=\"text-2xl font-bold text-gray-900 mt-1\">{formatCurrency(summary.total_amount)}</p>\r\n            </div>\r\n            <div className=\"card p-4\">\r\n              <p className=\"text-sm text-gray-600 font-medium\">Total Discount</p>\r\n              <p className=\"text-2xl font-bold text-red-600 mt-1\">{formatCurrency(summary.total_discount)}</p>\r\n            </div>\r\n            <div className=\"card p-4\">\r\n              <p className=\"text-sm text-gray-600 font-medium\">Average Bill Value</p>\r\n              <p className=\"text-2xl font-bold text-gray-900 mt-1\">\r\n                {formatCurrency(summary.total_bills > 0 ? summary.net_amount / summary.total_bills : 0)}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Top Doctors & Services */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {/* Top Doctors */}\r\n            <div className=\"card p-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n                <svg className=\"w-5 h-5 text-brand-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n                </svg>\r\n                Top 5 Doctors by Revenue\r\n              </h3>\r\n              {topDoctors.length > 0 ? (\r\n                <div className=\"space-y-3\">\r\n                  {topDoctors.map((doctor, idx) => (\r\n                    <div key={doctor.doctor_id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-8 h-8 bg-brand-100 text-brand-600 rounded-full flex items-center justify-center font-bold text-sm\">\r\n                          {idx + 1}\r\n                        </div>\r\n                        <div>\r\n                          <p className=\"font-medium text-gray-900\">{doctor.doctor_name}</p>\r\n                          <p className=\"text-xs text-gray-500\">{doctor.total_bills} bills</p>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"text-right\">\r\n                        <p className=\"font-semibold text-brand-600\">{formatCurrency(doctor.total_revenue)}</p>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-center text-gray-500 py-8\">No doctor data available for this date</p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Top Services */}\r\n            <div className=\"card p-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n                <svg className=\"w-5 h-5 text-brand-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\" />\r\n                </svg>\r\n                Top 5 Services by Usage\r\n              </h3>\r\n              {topServices.length > 0 ? (\r\n                <div className=\"space-y-3\">\r\n                  {topServices.map((service, idx) => (\r\n                    <div key={service.service_id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold text-sm\">\r\n                          {idx + 1}\r\n                        </div>\r\n                        <div>\r\n                          <p className=\"font-medium text-gray-900\">{service.service_name}</p>\r\n                          <p className=\"text-xs text-gray-500\">{service.usage_count} times used</p>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"text-right\">\r\n                        <p className=\"font-semibold text-blue-600\">{formatCurrency(service.total_revenue)}</p>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-center text-gray-500 py-8\">No service data available for this date</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n      \r\n      {/* Pending Appointments Modal */}\r\n      {showPendingModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\r\n            <div className=\"px-6 py-4 border-b border-gray-200 flex items-center justify-between\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">Pending Appointments</h3>\r\n              <button \r\n                onClick={() => setShowPendingModal(false)}\r\n                className=\"text-gray-400 hover:text-gray-500\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            <div className=\"overflow-y-auto flex-1\">\r\n              {pendingAppointments.length > 0 ? (\r\n                <table className=\"min-w-full divide-y divide-gray-200\">\r\n                  <thead className=\"bg-gray-50\">\r\n                    <tr>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Patient</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Time</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Doctor</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                    {pendingAppointments.map((appointment) => (\r\n                      <tr key={appointment.id}>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <div className=\"text-sm font-medium text-gray-900\">\r\n                            {appointment.patient_id \r\n                              ? (patientDetails[appointment.patient_id]?.name || 'Unknown Patient')\r\n                              : (appointment.guest_name || 'Guest')}\r\n                          </div>\r\n                          <div className=\"text-sm text-gray-500\">\r\n                            {appointment.patient_id \r\n                              ? (patientDetails[appointment.patient_id]?.contact || 'N/A')\r\n                              : (appointment.guest_contact || 'N/A')}\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <div className=\"text-sm text-gray-900\">\r\n                            {new Date(appointment.appointment_datetime).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                          {doctorDetails[appointment.doctor_id]?.name || 'Unknown Doctor'}\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                          <button \r\n                            onClick={() => handleAppointmentAction(appointment.id, 'attended')}\r\n                            className=\"text-green-600 hover:text-green-900 mr-3\"\r\n                          >\r\n                            Attended\r\n                          </button>\r\n                          <button \r\n                            onClick={() => handleAppointmentAction(appointment.id, 'reschedule')}\r\n                            className=\"text-blue-600 hover:text-blue-900 mr-3\"\r\n                          >\r\n                            Reschedule\r\n                          </button>\r\n                          <button \r\n                            onClick={() => handleAppointmentAction(appointment.id, 'cancel')}\r\n                            className=\"text-red-600 hover:text-red-900\"\r\n                          >\r\n                            Cancel\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              ) : (\r\n                <div className=\"text-center py-12\">\r\n                  <p className=\"text-gray-500\">No pending appointments found</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n              <button \r\n                onClick={() => setShowPendingModal(false)}\r\n                className=\"btn btn-secondary\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}