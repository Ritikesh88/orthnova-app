{"ast":null,"code":"import _objectSpread from\"C:/Users/Me/Desktop/orthnova-app/orthnova-offline/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState,useMemo}from'react';import{getDoctorById,getPatientById,listBills,listBillItems}from'../../api';import{formatCurrency,formatDateTime}from'../../utils/format';import Modal from'../common/Modal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BillHistory=()=>{const[bills,setBills]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[searchText,setSearchText]=useState('');const[searchDate,setSearchDate]=useState('');const[selectedBill,setSelectedBill]=useState(null);const[billItems,setBillItems]=useState([]);const[loadingItems,setLoadingItems]=useState(false);useEffect(()=>{(async()=>{setLoading(true);setError(null);try{const data=await listBills();if(!data||data.length===0){setBills([]);return;}const enriched=await Promise.all(data.map(async b=>{const[p,d]=await Promise.all([b.patient_id?getPatientById(b.patient_id).catch(()=>null):Promise.resolve(null),b.doctor_id?getDoctorById(b.doctor_id).catch(()=>null):Promise.resolve(null)]);return _objectSpread(_objectSpread({},b),{},{patientName:(p===null||p===void 0?void 0:p.name)||b.guest_name||undefined,doctorName:d===null||d===void 0?void 0:d.name});}));setBills(enriched);}catch(e){console.error('Error loading bills:',e);setError(e.message||'Failed to load bills. Please check your database permissions.');}finally{setLoading(false);}})();},[]);const filtered=useMemo(()=>{const txt=searchText.trim().toLowerCase();const date=searchDate;return bills.filter(b=>{const matchesText=!txt||[b.patientName,b.doctorName,b.bill_number].filter(Boolean).some(v=>String(v).toLowerCase().includes(txt));const matchesDate=!date||new Date(b.created_at).toISOString().slice(0,10)===date;return matchesText&&matchesDate;});},[bills,searchText,searchDate]);const handleViewDetails=async bill=>{setSelectedBill(bill);setBillItems([]);setLoadingItems(true);try{const items=await listBillItems(bill.id);setBillItems(items);}catch(e){console.error('Error loading bill items:',e);setError(e.message||'Failed to load bill items');}finally{setLoadingItems(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium\",children:\"Search (Patient/Doctor/Bill No)\"}),/*#__PURE__*/_jsx(\"input\",{className:\"mt-1 w-full\",value:searchText,onChange:e=>setSearchText(e.target.value),placeholder:\"Type to filter\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"mt-1 w-full\",value:searchDate,onChange:e=>setSearchDate(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>{setSearchText('');setSearchDate('');},disabled:loading,children:\"Clear\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Bill History\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>window.location.reload(),disabled:loading,children:\"Refresh\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 text-sm mb-2\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-left text-gray-500\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-2 pr-4\",children:\"Bill No\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 pr-4\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 pr-4\",children:\"Patient\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 pr-4\",children:\"Doctor\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 pr-4\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 pr-4\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 pr-4\",children:\"Actions\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[filtered.map(b=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t border-gray-100\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-2 pr-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewDetails(b),className:\"font-mono text-blue-600 hover:text-blue-800 hover:underline cursor-pointer\",title:\"Click to view item details\",children:b.bill_number})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 pr-4\",children:formatDateTime(b.created_at)}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 pr-4\",children:b.patientName||b.patient_id||'Guest'}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 pr-4\",children:b.doctorName||b.doctor_id}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 pr-4\",children:formatCurrency(b.net_amount)}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 pr-4 capitalize\",children:b.status}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 pr-4\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary px-3 py-1\",onClick:()=>{const win=window.open(\"\".concat(window.location.origin,\"/print/bill/\").concat(b.id),'_blank');if(win)win.focus();},children:\"Print\"})})]},b.id)),filtered.length===0&&!loading&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:\"py-4 text-gray-500\",colSpan:7,children:bills.length===0?error?'Error loading bills. '+error:'No bills found.':'No bills match your search criteria.'})})]})]})})]}),/*#__PURE__*/_jsx(Modal,{open:!!selectedBill,title:\"Invoice Details - \".concat((selectedBill===null||selectedBill===void 0?void 0:selectedBill.bill_number)||''),onClose:()=>{setSelectedBill(null);setBillItems([]);},children:selectedBill&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 pb-4 border-b\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Date\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:formatDateTime(selectedBill.created_at)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Status\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium capitalize\",children:selectedBill.status})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Patient\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:selectedBill.patientName||selectedBill.guest_name||selectedBill.patient_id||'Guest'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Doctor\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:selectedBill.doctorName||selectedBill.doctor_id||'N/A'})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2\",children:\"Items\"}),loadingItems?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Loading items...\"}):billItems.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No items found\"}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-left text-gray-500 border-b\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-2 pr-4\",children:\"Item Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 pr-4 text-right\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 pr-4 text-right\",children:\"Unit Price\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 pr-4 text-right\",children:\"Total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:billItems.map(item=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b border-gray-100\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-2 pr-4\",children:item.item_name||'N/A'}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 pr-4 text-right\",children:item.quantity}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 pr-4 text-right\",children:formatCurrency(item.price)}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 pr-4 text-right font-medium\",children:formatCurrency(item.total)})]},item.id))}),/*#__PURE__*/_jsxs(\"tfoot\",{children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t-2 border-gray-300\",children:[/*#__PURE__*/_jsx(\"td\",{colSpan:3,className:\"py-2 pr-4 text-right font-semibold\",children:\"Subtotal:\"}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 pr-4 text-right font-semibold\",children:formatCurrency(billItems.reduce((sum,item)=>sum+Number(item.total),0))})]}),selectedBill.discount&&Number(selectedBill.discount)>0&&/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{colSpan:3,className:\"py-2 pr-4 text-right\",children:\"Discount:\"}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-2 pr-4 text-right text-red-600\",children:[\"-\",formatCurrency(selectedBill.discount)]})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t border-gray-300\",children:[/*#__PURE__*/_jsx(\"td\",{colSpan:3,className:\"py-2 pr-4 text-right font-bold text-lg\",children:\"Net Amount:\"}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 pr-4 text-right font-bold text-lg\",children:formatCurrency(selectedBill.net_amount)})]})]})]})})]})]})})]});};export default BillHistory;","map":{"version":3,"names":["React","useEffect","useState","useMemo","getDoctorById","getPatientById","listBills","listBillItems","formatCurrency","formatDateTime","Modal","jsx","_jsx","jsxs","_jsxs","BillHistory","bills","setBills","loading","setLoading","error","setError","searchText","setSearchText","searchDate","setSearchDate","selectedBill","setSelectedBill","billItems","setBillItems","loadingItems","setLoadingItems","data","length","enriched","Promise","all","map","b","p","d","patient_id","catch","resolve","doctor_id","_objectSpread","patientName","name","guest_name","undefined","doctorName","e","console","message","filtered","txt","trim","toLowerCase","date","filter","matchesText","bill_number","Boolean","some","v","String","includes","matchesDate","Date","created_at","toISOString","slice","handleViewDetails","bill","items","id","className","children","value","onChange","target","placeholder","type","onClick","disabled","window","location","reload","title","net_amount","status","win","open","concat","origin","focus","colSpan","onClose","item","item_name","quantity","price","total","reduce","sum","Number","discount"],"sources":["C:/Users/Me/Desktop/orthnova-app/orthnova-offline/src/components/billing/BillHistory.tsx"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\r\nimport { getDoctorById, getPatientById, listBills, listBillItems } from '../../api';\r\nimport { BillRow, BillItemRow } from '../../types';\r\nimport { formatCurrency, formatDateTime } from '../../utils/format';\r\nimport Modal from '../common/Modal';\r\n\r\ninterface EnrichedBill extends BillRow {\r\n  patientName?: string;\r\n  doctorName?: string;\r\n}\r\n\r\nconst BillHistory: React.FC = () => {\r\n  const [bills, setBills] = useState<EnrichedBill[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const [searchText, setSearchText] = useState('');\r\n  const [searchDate, setSearchDate] = useState('');\r\n\r\n  const [selectedBill, setSelectedBill] = useState<EnrichedBill | null>(null);\r\n  const [billItems, setBillItems] = useState<BillItemRow[]>([]);\r\n  const [loadingItems, setLoadingItems] = useState(false);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setLoading(true); setError(null);\r\n      try {\r\n        const data = await listBills();\r\n        if (!data || data.length === 0) {\r\n          setBills([]);\r\n          return;\r\n        }\r\n        const enriched: EnrichedBill[] = await Promise.all(data.map(async b => {\r\n          const [p, d] = await Promise.all([\r\n            b.patient_id ? getPatientById(b.patient_id).catch(() => null) : Promise.resolve(null), \r\n            b.doctor_id ? getDoctorById(b.doctor_id).catch(() => null) : Promise.resolve(null)\r\n          ]);\r\n          return { ...b, patientName: p?.name || b.guest_name || undefined, doctorName: d?.name };\r\n        }));\r\n        setBills(enriched);\r\n      } catch (e: any) { \r\n        console.error('Error loading bills:', e);\r\n        setError(e.message || 'Failed to load bills. Please check your database permissions.'); \r\n      }\r\n      finally { setLoading(false); }\r\n    })();\r\n  }, []);\r\n\r\n  const filtered = useMemo(() => {\r\n    const txt = searchText.trim().toLowerCase();\r\n    const date = searchDate;\r\n    return bills.filter(b => {\r\n      const matchesText = !txt || [b.patientName, b.doctorName, b.bill_number]\r\n        .filter(Boolean)\r\n        .some(v => String(v).toLowerCase().includes(txt));\r\n      const matchesDate = !date || (new Date(b.created_at).toISOString().slice(0,10) === date);\r\n      return matchesText && matchesDate;\r\n    });\r\n  }, [bills, searchText, searchDate]);\r\n\r\n  const handleViewDetails = async (bill: EnrichedBill) => {\r\n    setSelectedBill(bill);\r\n    setBillItems([]);\r\n    setLoadingItems(true);\r\n    try {\r\n      const items = await listBillItems(bill.id);\r\n      setBillItems(items);\r\n    } catch (e: any) {\r\n      console.error('Error loading bill items:', e);\r\n      setError(e.message || 'Failed to load bill items');\r\n    } finally {\r\n      setLoadingItems(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"card p-4\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium\">Search (Patient/Doctor/Bill No)</label>\r\n            <input className=\"mt-1 w-full\" value={searchText} onChange={e => setSearchText(e.target.value)} placeholder=\"Type to filter\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium\">Date</label>\r\n            <input type=\"date\" className=\"mt-1 w-full\" value={searchDate} onChange={e => setSearchDate(e.target.value)} />\r\n          </div>\r\n          <div className=\"flex items-end\">\r\n            <button className=\"btn btn-secondary\" onClick={() => { setSearchText(''); setSearchDate(''); }} disabled={loading}>Clear</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"card p-6\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h2 className=\"text-xl font-semibold\">Bill History</h2>\r\n          <button className=\"btn btn-secondary\" onClick={() => window.location.reload()} disabled={loading}>Refresh</button>\r\n        </div>\r\n        {error && <p className=\"text-red-600 text-sm mb-2\">{error}</p>}\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full text-sm\">\r\n            <thead>\r\n              <tr className=\"text-left text-gray-500\">\r\n                <th className=\"py-2 pr-4\">Bill No</th>\r\n                <th className=\"py-2 pr-4\">Date</th>\r\n                <th className=\"py-2 pr-4\">Patient</th>\r\n                <th className=\"py-2 pr-4\">Doctor</th>\r\n                <th className=\"py-2 pr-4\">Amount</th>\r\n                <th className=\"py-2 pr-4\">Status</th>\r\n                <th className=\"py-2 pr-4\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filtered.map(b => (\r\n                <tr key={b.id} className=\"border-t border-gray-100\">\r\n                  <td className=\"py-2 pr-4\">\r\n                    <button\r\n                      onClick={() => handleViewDetails(b)}\r\n                      className=\"font-mono text-blue-600 hover:text-blue-800 hover:underline cursor-pointer\"\r\n                      title=\"Click to view item details\"\r\n                    >\r\n                      {b.bill_number}\r\n                    </button>\r\n                  </td>\r\n                  <td className=\"py-2 pr-4\">{formatDateTime(b.created_at)}</td>\r\n                  <td className=\"py-2 pr-4\">{b.patientName || b.patient_id || 'Guest'}</td>\r\n                  <td className=\"py-2 pr-4\">{b.doctorName || b.doctor_id}</td>\r\n                  <td className=\"py-2 pr-4\">{formatCurrency(b.net_amount)}</td>\r\n                  <td className=\"py-2 pr-4 capitalize\">{b.status}</td>\r\n                  <td className=\"py-2 pr-4\">\r\n                    <button className=\"btn btn-secondary px-3 py-1\" onClick={() => {\r\n                      const win = window.open(`${window.location.origin}/print/bill/${b.id}`, '_blank'); if (win) win.focus();\r\n                    }}>Print</button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n              {filtered.length === 0 && !loading && (\r\n                <tr><td className=\"py-4 text-gray-500\" colSpan={7}>\r\n                  {bills.length === 0 \r\n                    ? (error ? 'Error loading bills. ' + error : 'No bills found.') \r\n                    : 'No bills match your search criteria.'}\r\n                </td></tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      <Modal\r\n        open={!!selectedBill}\r\n        title={`Invoice Details - ${selectedBill?.bill_number || ''}`}\r\n        onClose={() => {\r\n          setSelectedBill(null);\r\n          setBillItems([]);\r\n        }}\r\n      >\r\n        {selectedBill && (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-2 gap-4 pb-4 border-b\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-500\">Date</p>\r\n                <p className=\"font-medium\">{formatDateTime(selectedBill.created_at)}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-500\">Status</p>\r\n                <p className=\"font-medium capitalize\">{selectedBill.status}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-500\">Patient</p>\r\n                <p className=\"font-medium\">{selectedBill.patientName || selectedBill.guest_name || selectedBill.patient_id || 'Guest'}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-500\">Doctor</p>\r\n                <p className=\"font-medium\">{selectedBill.doctorName || selectedBill.doctor_id || 'N/A'}</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <h4 className=\"font-semibold mb-2\">Items</h4>\r\n              {loadingItems ? (\r\n                <p className=\"text-gray-500\">Loading items...</p>\r\n              ) : billItems.length === 0 ? (\r\n                <p className=\"text-gray-500\">No items found</p>\r\n              ) : (\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"min-w-full text-sm\">\r\n                    <thead>\r\n                      <tr className=\"text-left text-gray-500 border-b\">\r\n                        <th className=\"py-2 pr-4\">Item Name</th>\r\n                        <th className=\"py-2 pr-4 text-right\">Quantity</th>\r\n                        <th className=\"py-2 pr-4 text-right\">Unit Price</th>\r\n                        <th className=\"py-2 pr-4 text-right\">Total</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {billItems.map(item => (\r\n                        <tr key={item.id} className=\"border-b border-gray-100\">\r\n                          <td className=\"py-2 pr-4\">{item.item_name || 'N/A'}</td>\r\n                          <td className=\"py-2 pr-4 text-right\">{item.quantity}</td>\r\n                          <td className=\"py-2 pr-4 text-right\">{formatCurrency(item.price)}</td>\r\n                          <td className=\"py-2 pr-4 text-right font-medium\">{formatCurrency(item.total)}</td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                    <tfoot>\r\n                      <tr className=\"border-t-2 border-gray-300\">\r\n                        <td colSpan={3} className=\"py-2 pr-4 text-right font-semibold\">Subtotal:</td>\r\n                        <td className=\"py-2 pr-4 text-right font-semibold\">\r\n                          {formatCurrency(billItems.reduce((sum, item) => sum + Number(item.total), 0))}\r\n                        </td>\r\n                      </tr>\r\n                      {selectedBill.discount && Number(selectedBill.discount) > 0 && (\r\n                        <tr>\r\n                          <td colSpan={3} className=\"py-2 pr-4 text-right\">Discount:</td>\r\n                          <td className=\"py-2 pr-4 text-right text-red-600\">\r\n                            -{formatCurrency(selectedBill.discount)}\r\n                          </td>\r\n                        </tr>\r\n                      )}\r\n                      <tr className=\"border-t border-gray-300\">\r\n                        <td colSpan={3} className=\"py-2 pr-4 text-right font-bold text-lg\">Net Amount:</td>\r\n                        <td className=\"py-2 pr-4 text-right font-bold text-lg\">\r\n                          {formatCurrency(selectedBill.net_amount)}\r\n                        </td>\r\n                      </tr>\r\n                    </tfoot>\r\n                  </table>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BillHistory;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}