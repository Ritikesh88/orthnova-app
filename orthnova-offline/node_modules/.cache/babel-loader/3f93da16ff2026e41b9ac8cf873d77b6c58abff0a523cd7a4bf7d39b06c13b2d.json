{"ast":null,"code":"import React,{useState,useEffect}from'react';import{listAppointments,listDoctors,getPendingAppointments,listPatients}from'../../api';import{formatDateTime}from'../../utils/format';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ReceptionistDashboard=()=>{const[todayAppointments,setTodayAppointments]=useState([]);const[doctors,setDoctors]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[showPendingModal,setShowPendingModal]=useState(false);const[pendingApptsData,setPendingApptsData]=useState([]);const[patientDetails,setPatientDetails]=useState({});useEffect(()=>{fetchDashboardData();},[]);const fetchDashboardData=async()=>{setLoading(true);setError(null);try{const today=new Date().toISOString().split('T')[0];const[appointments,allDoctors,pending]=await Promise.all([listAppointments(),listDoctors(),getPendingAppointments(today)]);// Filter today's appointments\nconst todaysAppts=appointments.filter(apt=>{// Use appointment_datetime if available, otherwise appointment_date, fallback to created_at\nlet aptDate='';if(apt.appointment_datetime){aptDate=new Date(apt.appointment_datetime).toISOString().split('T')[0];}else if(apt.appointment_date){aptDate=apt.appointment_date;}else if(apt.created_at){aptDate=new Date(apt.created_at).toISOString().split('T')[0];}return aptDate===today;});setTodayAppointments(todaysAppts);setDoctors(allDoctors);setPendingApptsData(pending);// Fetch patient details for pending appointments\nif(pending.length>0){const patientIds=pending.filter(a=>a.patient_id).map(a=>a.patient_id).filter((id,index,arr)=>arr.indexOf(id)===index);// Get unique IDs\nif(patientIds.length>0){const patients=await listPatients();const patientMap={};patients.forEach(p=>{patientMap[p.id]=p;});setPatientDetails(patientMap);}}}catch(e){console.error('Error fetching dashboard data:',e);setError(e.message||'Failed to load dashboard data');}finally{setLoading(false);}};// Calculate pending appointments\nconst pendingAppts=todayAppointments.filter(apt=>apt.status==='booked');const completedAppointments=todayAppointments.filter(apt=>apt.status==='completed');// Calculate doctor slots - only include doctors who have appointments today\nconst doctorSlots=doctors.map(doctor=>{const doctorAppts=todayAppointments.filter(apt=>apt.doctor_id===doctor.id);const pending=doctorAppts.filter(apt=>apt.status==='booked').length;const completed=doctorAppts.filter(apt=>apt.status==='completed').length;return{doctor,total:doctorAppts.length,pending,completed,available:true// Simplified - can be enhanced with actual availability logic\n};}).filter(slot=>slot.total>0);// Only show doctors with appointments\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Today's Overview\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:new Date().toLocaleDateString('en-IN',{weekday:'long',year:'numeric',month:'long',day:'numeric'})})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-xl p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 text-sm\",children:error})}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-block animate-spin rounded-full h-8 w-8 border-4 border-brand-500 border-t-transparent\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mt-2\",children:\"Loading today's schedule...\"})]}),!loading&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl shadow-md p-6 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-90 font-medium\",children:\"Total Appointments\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold mt-2\",children:todayAppointments.length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs opacity-75 mt-1\",children:\"Scheduled for today\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white bg-opacity-20 rounded-full p-3\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl shadow-md p-6 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-90 font-medium\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold mt-2\",children:pendingAppts.length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs opacity-75 mt-1\",children:\"Waiting to be seen\"}),pendingAppts.length>0&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPendingModal(true),className:\"text-xs underline mt-1\",children:\"View Details\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white bg-opacity-20 rounded-full p-3\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl shadow-md p-6 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-90 font-medium\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold mt-2\",children:completedAppointments.length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs opacity-75 mt-1\",children:\"Consultations done\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white bg-opacity-20 rounded-full p-3\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-yellow-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}),\"Pending Appointments Today\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded-full\",children:pendingAppts.length})]}),pendingAppts.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 max-h-96 overflow-y-auto\",children:pendingAppts.map(apt=>{var _patientDetails$apt$p;const doctor=doctors.find(d=>d.id===apt.doctor_id);return/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-yellow-50 border border-yellow-200 rounded-xl hover:bg-yellow-100 transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-1\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:apt.patient_id?((_patientDetails$apt$p=patientDetails[apt.patient_id])===null||_patientDetails$apt$p===void 0?void 0:_patientDetails$apt$p.name)||'Unknown Patient':apt.guest_name||'Guest'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-sm text-gray-600 mb-1\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Dr. \",(doctor===null||doctor===void 0?void 0:doctor.name)||'Unknown']})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:apt.appointment_datetime?new Date(apt.appointment_datetime).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'}):formatDateTime(apt.created_at)}),apt.notes&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600 mt-1 italic\",children:[\"Note: \",apt.notes]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-yellow-200 text-yellow-800 text-xs font-medium px-2 py-1 rounded\",children:\"Pending\"})]})},apt.id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-12 h-12 text-gray-300 mx-auto mb-3\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No pending appointments for today\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-4\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-brand-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})}),\"Doctor's Schedule Today\"]})}),doctorSlots.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 max-h-96 overflow-y-auto\",children:doctorSlots.map(slot=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-50 border border-gray-200 rounded-xl hover:bg-gray-100 transition-colors\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-gray-900\",children:[\"Dr. \",slot.doctor.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[\"Reg: \",slot.doctor.registration_number]})]}),slot.available?/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded\",children:\"Available\"}):/*#__PURE__*/_jsx(\"span\",{className:\"bg-red-100 text-red-800 text-xs font-medium px-2 py-1 rounded\",children:\"Busy\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-2 mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-2 bg-blue-50 rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Total\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-bold text-blue-600\",children:slot.total})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-2 bg-yellow-50 rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-bold text-yellow-600\",children:slot.pending})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-2 bg-green-50 rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Done\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-bold text-green-600\",children:slot.completed})]})]})]},slot.doctor.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-12 h-12 text-gray-300 mx-auto mb-3\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No doctors scheduled for today\"})]})]})]})]}),showPendingModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-200 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Pending Appointments\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPendingModal(false),className:\"text-gray-400 hover:text-gray-500\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-y-auto flex-1\",children:pendingApptsData.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Patient\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Doctor\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:pendingApptsData.map(appointment=>{var _patientDetails$appoi,_patientDetails$appoi2,_doctors$find;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:appointment.patient_id?((_patientDetails$appoi=patientDetails[appointment.patient_id])===null||_patientDetails$appoi===void 0?void 0:_patientDetails$appoi.name)||'Unknown Patient':appointment.guest_name||'Guest'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:appointment.patient_id?((_patientDetails$appoi2=patientDetails[appointment.patient_id])===null||_patientDetails$appoi2===void 0?void 0:_patientDetails$appoi2.contact)||'N/A':appointment.guest_contact||'N/A'})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:new Date(appointment.appointment_datetime||appointment.created_at).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:((_doctors$find=doctors.find(d=>d.id===appointment.doctor_id))===null||_doctors$find===void 0?void 0:_doctors$find.name)||'Unknown Doctor'}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>console.log(\"Mark appointment \".concat(appointment.id,\" as attended\")),className:\"text-green-600 hover:text-green-900 mr-3\",children:\"Attended\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>console.log(\"Reschedule appointment \".concat(appointment.id)),className:\"text-blue-600 hover:text-blue-900 mr-3\",children:\"Reschedule\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>console.log(\"Cancel appointment \".concat(appointment.id)),className:\"text-red-600 hover:text-red-900\",children:\"Cancel\"})]})]},appointment.id);})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No pending appointments found\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 bg-gray-50 border-t border-gray-200\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPendingModal(false),className:\"btn btn-secondary\",children:\"Close\"})})]})})]});};export default ReceptionistDashboard;","map":{"version":3,"names":["React","useState","useEffect","listAppointments","listDoctors","getPendingAppointments","listPatients","formatDateTime","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ReceptionistDashboard","todayAppointments","setTodayAppointments","doctors","setDoctors","loading","setLoading","error","setError","showPendingModal","setShowPendingModal","pendingApptsData","setPendingApptsData","patientDetails","setPatientDetails","fetchDashboardData","today","Date","toISOString","split","appointments","allDoctors","pending","Promise","all","todaysAppts","filter","apt","aptDate","appointment_datetime","appointment_date","created_at","length","patientIds","a","patient_id","map","id","index","arr","indexOf","patients","patientMap","forEach","p","e","console","message","pendingAppts","status","completedAppointments","doctorSlots","doctor","doctorAppts","doctor_id","completed","total","available","slot","className","children","toLocaleDateString","weekday","year","month","day","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","_patientDetails$apt$p","find","name","guest_name","toLocaleTimeString","hour","minute","notes","registration_number","appointment","_patientDetails$appoi","_patientDetails$appoi2","_doctors$find","contact","guest_contact","log","concat"],"sources":["C:/Users/Me/Desktop/orthnova-app/orthnova-offline/src/components/receptionist/ReceptionistDashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { listAppointments, listDoctors, getPendingAppointments, listPatients } from '../../api';\r\nimport { AppointmentRow, DoctorRow } from '../../types';\r\nimport { formatDate, formatDateTime } from '../../utils/format';\r\n\r\nconst ReceptionistDashboard: React.FC = () => {\r\n  const [todayAppointments, setTodayAppointments] = useState<AppointmentRow[]>([]);\r\n  const [doctors, setDoctors] = useState<DoctorRow[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [showPendingModal, setShowPendingModal] = useState(false);\r\n  const [pendingApptsData, setPendingApptsData] = useState<AppointmentRow[]>([]);\r\n  const [patientDetails, setPatientDetails] = useState<Record<string, any>>({});\r\n\r\n  useEffect(() => {\r\n    fetchDashboardData();\r\n  }, []);\r\n\r\n  const fetchDashboardData = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const today = new Date().toISOString().split('T')[0];\r\n      \r\n      const [appointments, allDoctors, pending] = await Promise.all([\r\n        listAppointments(),\r\n        listDoctors(),\r\n        getPendingAppointments(today)\r\n      ]);\r\n\r\n      // Filter today's appointments\r\n      const todaysAppts = appointments.filter(apt => {\r\n        // Use appointment_datetime if available, otherwise appointment_date, fallback to created_at\r\n        let aptDate = '';\r\n        if (apt.appointment_datetime) {\r\n          aptDate = new Date(apt.appointment_datetime).toISOString().split('T')[0];\r\n        } else if (apt.appointment_date) {\r\n          aptDate = apt.appointment_date;\r\n        } else if (apt.created_at) {\r\n          aptDate = new Date(apt.created_at).toISOString().split('T')[0];\r\n        }\r\n        return aptDate === today;\r\n      });\r\n\r\n      setTodayAppointments(todaysAppts);\r\n      setDoctors(allDoctors);\r\n      setPendingApptsData(pending);\r\n      \r\n      // Fetch patient details for pending appointments\r\n      if (pending.length > 0) {\r\n        const patientIds = pending\r\n          .filter(a => a.patient_id)\r\n          .map(a => a.patient_id)\r\n          .filter((id, index, arr) => arr.indexOf(id) === index); // Get unique IDs\r\n        \r\n        if (patientIds.length > 0) {\r\n          const patients = await listPatients();\r\n          const patientMap: Record<string, any> = {};\r\n          patients.forEach((p: any) => {\r\n            patientMap[p.id] = p;\r\n          });\r\n          setPatientDetails(patientMap);\r\n        }\r\n      }\r\n    } catch (e: any) {\r\n      console.error('Error fetching dashboard data:', e);\r\n      setError(e.message || 'Failed to load dashboard data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Calculate pending appointments\r\n  const pendingAppts = todayAppointments.filter(apt => apt.status === 'booked');\r\n  const completedAppointments = todayAppointments.filter(apt => apt.status === 'completed');\r\n\r\n  // Calculate doctor slots - only include doctors who have appointments today\r\n  const doctorSlots = doctors\r\n    .map(doctor => {\r\n      const doctorAppts = todayAppointments.filter(apt => apt.doctor_id === doctor.id);\r\n      const pending = doctorAppts.filter(apt => apt.status === 'booked').length;\r\n      const completed = doctorAppts.filter(apt => apt.status === 'completed').length;\r\n      \r\n      return {\r\n        doctor,\r\n        total: doctorAppts.length,\r\n        pending,\r\n        completed,\r\n        available: true // Simplified - can be enhanced with actual availability logic\r\n      };\r\n    })\r\n    .filter(slot => slot.total > 0); // Only show doctors with appointments\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div>\r\n        <h1 className=\"text-2xl font-bold text-gray-900\">Today's Overview</h1>\r\n        <p className=\"text-sm text-gray-500 mt-1\">\r\n          {new Date().toLocaleDateString('en-IN', { \r\n            weekday: 'long', \r\n            year: 'numeric', \r\n            month: 'long', \r\n            day: 'numeric' \r\n          })}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Error Message */}\r\n      {error && (\r\n        <div className=\"bg-red-50 border border-red-200 rounded-xl p-4\">\r\n          <p className=\"text-red-600 text-sm\">{error}</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Loading State */}\r\n      {loading && (\r\n        <div className=\"text-center py-12\">\r\n          <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-4 border-brand-500 border-t-transparent\"></div>\r\n          <p className=\"text-gray-500 mt-2\">Loading today's schedule...</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Summary Cards */}\r\n      {!loading && (\r\n        <>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            {/* Total Appointments */}\r\n            <div className=\"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl shadow-md p-6 text-white\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm opacity-90 font-medium\">Total Appointments</p>\r\n                  <p className=\"text-3xl font-bold mt-2\">{todayAppointments.length}</p>\r\n                  <p className=\"text-xs opacity-75 mt-1\">Scheduled for today</p>\r\n                </div>\r\n                <div className=\"bg-white bg-opacity-20 rounded-full p-3\">\r\n                  <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Pending Appointments */}\r\n            <div className=\"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl shadow-md p-6 text-white\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm opacity-90 font-medium\">Pending</p>\r\n                  <p className=\"text-3xl font-bold mt-2\">{pendingAppts.length}</p>\r\n                  <p className=\"text-xs opacity-75 mt-1\">Waiting to be seen</p>\r\n                  {pendingAppts.length > 0 && (\r\n                    <button \r\n                      onClick={() => setShowPendingModal(true)}\r\n                      className=\"text-xs underline mt-1\"\r\n                    >\r\n                      View Details\r\n                    </button>\r\n                  )}\r\n                </div>\r\n                <div className=\"bg-white bg-opacity-20 rounded-full p-3\">\r\n                  <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Completed Appointments */}\r\n            <div className=\"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl shadow-md p-6 text-white\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm opacity-90 font-medium\">Completed</p>\r\n                  <p className=\"text-3xl font-bold mt-2\">{completedAppointments.length}</p>\r\n                  <p className=\"text-xs opacity-75 mt-1\">Consultations done</p>\r\n                </div>\r\n                <div className=\"bg-white bg-opacity-20 rounded-full p-3\">\r\n                  <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Two Column Layout */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {/* Pending Appointments List */}\r\n            <div className=\"card p-6\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\r\n                  <svg className=\"w-5 h-5 text-yellow-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                  Pending Appointments Today\r\n                </h3>\r\n                <span className=\"bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded-full\">\r\n                  {pendingAppts.length}\r\n                </span>\r\n              </div>\r\n\r\n              {pendingAppts.length > 0 ? (\r\n                <div className=\"space-y-3 max-h-96 overflow-y-auto\">\r\n                  {pendingAppts.map((apt: any) => {\r\n                    const doctor = doctors.find(d => d.id === apt.doctor_id);\r\n                    return (\r\n                      <div key={apt.id} className=\"p-4 bg-yellow-50 border border-yellow-200 rounded-xl hover:bg-yellow-100 transition-colors\">\r\n                        <div className=\"flex items-start justify-between\">\r\n                          <div className=\"flex-1\">\r\n                            <div className=\"flex items-center gap-2 mb-1\">\r\n                              <svg className=\"w-4 h-4 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n                              </svg>\r\n                              <p className=\"font-medium text-gray-900\">\r\n                                {apt.patient_id \r\n                                  ? (patientDetails[apt.patient_id]?.name || 'Unknown Patient')\r\n                                  : (apt.guest_name || 'Guest')}\r\n                              </p>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-2 text-sm text-gray-600 mb-1\">\r\n                              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                              </svg>\r\n                              <span>Dr. {doctor?.name || 'Unknown'}</span>\r\n                            </div>\r\n                            <p className=\"text-xs text-gray-500\">\r\n                              {apt.appointment_datetime \r\n                                ? new Date(apt.appointment_datetime).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})\r\n                                : formatDateTime(apt.created_at)}\r\n                            </p>\r\n                            {apt.notes && (\r\n                              <p className=\"text-xs text-gray-600 mt-1 italic\">Note: {apt.notes}</p>\r\n                            )}\r\n                          </div>\r\n                          <span className=\"bg-yellow-200 text-yellow-800 text-xs font-medium px-2 py-1 rounded\">\r\n                            Pending\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-center py-12\">\r\n                  <svg className=\"w-12 h-12 text-gray-300 mx-auto mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                  <p className=\"text-gray-500\">No pending appointments for today</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Doctor Slots/Availability */}\r\n            <div className=\"card p-6\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\r\n                  <svg className=\"w-5 h-5 text-brand-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                  Doctor's Schedule Today\r\n                </h3>\r\n              </div>\r\n\r\n              {doctorSlots.length > 0 ? (\r\n                <div className=\"space-y-3 max-h-96 overflow-y-auto\">\r\n                  {doctorSlots.map((slot) => (\r\n                    <div key={slot.doctor.id} className=\"p-4 bg-gray-50 border border-gray-200 rounded-xl hover:bg-gray-100 transition-colors\">\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <div>\r\n                          <p className=\"font-medium text-gray-900\">Dr. {slot.doctor.name}</p>\r\n                          <p className=\"text-xs text-gray-500\">Reg: {slot.doctor.registration_number}</p>\r\n                        </div>\r\n                        {slot.available ? (\r\n                          <span className=\"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded\">\r\n                            Available\r\n                          </span>\r\n                        ) : (\r\n                          <span className=\"bg-red-100 text-red-800 text-xs font-medium px-2 py-1 rounded\">\r\n                            Busy\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <div className=\"grid grid-cols-3 gap-2 mt-3\">\r\n                        <div className=\"text-center p-2 bg-blue-50 rounded\">\r\n                          <p className=\"text-xs text-gray-600\">Total</p>\r\n                          <p className=\"text-lg font-bold text-blue-600\">{slot.total}</p>\r\n                        </div>\r\n                        <div className=\"text-center p-2 bg-yellow-50 rounded\">\r\n                          <p className=\"text-xs text-gray-600\">Pending</p>\r\n                          <p className=\"text-lg font-bold text-yellow-600\">{slot.pending}</p>\r\n                        </div>\r\n                        <div className=\"text-center p-2 bg-green-50 rounded\">\r\n                          <p className=\"text-xs text-gray-600\">Done</p>\r\n                          <p className=\"text-lg font-bold text-green-600\">{slot.completed}</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-center py-12\">\r\n                  <svg className=\"w-12 h-12 text-gray-300 mx-auto mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\r\n                  </svg>\r\n                  <p className=\"text-gray-500\">No doctors scheduled for today</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n      \r\n      {/* Pending Appointments Modal */}\r\n      {showPendingModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\r\n            <div className=\"px-6 py-4 border-b border-gray-200 flex items-center justify-between\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">Pending Appointments</h3>\r\n              <button \r\n                onClick={() => setShowPendingModal(false)}\r\n                className=\"text-gray-400 hover:text-gray-500\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            <div className=\"overflow-y-auto flex-1\">\r\n              {pendingApptsData.length > 0 ? (\r\n                <table className=\"min-w-full divide-y divide-gray-200\">\r\n                  <thead className=\"bg-gray-50\">\r\n                    <tr>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Patient</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Time</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Doctor</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                    {pendingApptsData.map((appointment) => (\r\n                      <tr key={appointment.id}>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <div className=\"text-sm font-medium text-gray-900\">\r\n                            {appointment.patient_id \r\n                              ? (patientDetails[appointment.patient_id]?.name || 'Unknown Patient')\r\n                              : (appointment.guest_name || 'Guest')}\r\n                          </div>\r\n                          <div className=\"text-sm text-gray-500\">\r\n                            {appointment.patient_id \r\n                              ? (patientDetails[appointment.patient_id]?.contact || 'N/A')\r\n                              : (appointment.guest_contact || 'N/A')}\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <div className=\"text-sm text-gray-900\">\r\n                            {new Date(appointment.appointment_datetime || appointment.created_at).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                          {doctors.find(d => d.id === appointment.doctor_id)?.name || 'Unknown Doctor'}\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                          <button \r\n                            onClick={() => console.log(`Mark appointment ${appointment.id} as attended`)}\r\n                            className=\"text-green-600 hover:text-green-900 mr-3\"\r\n                          >\r\n                            Attended\r\n                          </button>\r\n                          <button \r\n                            onClick={() => console.log(`Reschedule appointment ${appointment.id}`)}\r\n                            className=\"text-blue-600 hover:text-blue-900 mr-3\"\r\n                          >\r\n                            Reschedule\r\n                          </button>\r\n                          <button \r\n                            onClick={() => console.log(`Cancel appointment ${appointment.id}`)}\r\n                            className=\"text-red-600 hover:text-red-900\"\r\n                          >\r\n                            Cancel\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              ) : (\r\n                <div className=\"text-center py-12\">\r\n                  <p className=\"text-gray-500\">No pending appointments found</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\r\n              <button \r\n                onClick={() => setShowPendingModal(false)}\r\n                className=\"btn btn-secondary\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReceptionistDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}