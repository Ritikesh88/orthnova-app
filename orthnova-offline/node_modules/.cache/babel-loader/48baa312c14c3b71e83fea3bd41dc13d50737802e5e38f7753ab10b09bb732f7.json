{"ast":null,"code":"export function generatePatientId(contact,name){let date=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new Date();const yearTwo=date.getFullYear().toString().slice(-2);const last4Contact=(contact||'').replace(/\\D/g,'').slice(-4)||'0000';const first4Name=(name||'').trim().toUpperCase().replace(/[^A-Z]/g,'').slice(0,4)||'XXXX';return\"\".concat(yearTwo,\"-\").concat(last4Contact,\"-\").concat(first4Name);}export function generateDoctorId(registrationNumber,name){let date=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new Date();const yearFull=date.getFullYear().toString();const last4Reg=(registrationNumber||'').replace(/\\D/g,'').slice(-4)||'0000';const initials=(name||'').trim().toUpperCase().split(/\\s+/).map(part=>part.charAt(0)).join('').slice(0,3)||'XX';return\"DOC-\".concat(yearFull,\"-\").concat(last4Reg,\"-\").concat(initials);}export function calculateAge(dobIsoDate){const dob=new Date(dobIsoDate);const today=new Date();let age=today.getFullYear()-dob.getFullYear();const m=today.getMonth()-dob.getMonth();if(m<0||m===0&&today.getDate()<dob.getDate()){age--;}return age<0?0:age;}","map":{"version":3,"names":["generatePatientId","contact","name","date","arguments","length","undefined","Date","yearTwo","getFullYear","toString","slice","last4Contact","replace","first4Name","trim","toUpperCase","concat","generateDoctorId","registrationNumber","yearFull","last4Reg","initials","split","map","part","charAt","join","calculateAge","dobIsoDate","dob","today","age","m","getMonth","getDate"],"sources":["C:/Users/Me/Desktop/orthnova-app/orthnova-offline/src/utils/idGenerators.ts"],"sourcesContent":["export function generatePatientId(contact: string, name: string, date: Date = new Date()): string {\r\n  const yearTwo = date.getFullYear().toString().slice(-2);\r\n  const last4Contact = (contact || '').replace(/\\D/g, '').slice(-4) || '0000';\r\n  const first4Name = (name || '').trim().toUpperCase().replace(/[^A-Z]/g, '').slice(0, 4) || 'XXXX';\r\n  return `${yearTwo}-${last4Contact}-${first4Name}`;\r\n}\r\n\r\nexport function generateDoctorId(registrationNumber: string, name: string, date: Date = new Date()): string {\r\n  const yearFull = date.getFullYear().toString();\r\n  const last4Reg = (registrationNumber || '').replace(/\\D/g, '').slice(-4) || '0000';\r\n  const initials = (name || '')\r\n    .trim()\r\n    .toUpperCase()\r\n    .split(/\\s+/)\r\n    .map((part) => part.charAt(0))\r\n    .join('')\r\n    .slice(0, 3) || 'XX';\r\n  return `DOC-${yearFull}-${last4Reg}-${initials}`;\r\n}\r\n\r\nexport function calculateAge(dobIsoDate: string): number {\r\n  const dob = new Date(dobIsoDate);\r\n  const today = new Date();\r\n  let age = today.getFullYear() - dob.getFullYear();\r\n  const m = today.getMonth() - dob.getMonth();\r\n  if (m < 0 || (m === 0 && today.getDate() < dob.getDate())) {\r\n    age--;\r\n  }\r\n  return age < 0 ? 0 : age;\r\n}"],"mappings":"AAAA,MAAO,SAAS,CAAAA,iBAAiBA,CAACC,OAAe,CAAEC,IAAY,CAAmC,IAAjC,CAAAC,IAAU,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,GAAI,CAAAG,IAAI,CAAC,CAAC,CACtF,KAAM,CAAAC,OAAO,CAAGL,IAAI,CAACM,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACvD,KAAM,CAAAC,YAAY,CAAG,CAACX,OAAO,EAAI,EAAE,EAAEY,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CAACF,KAAK,CAAC,CAAC,CAAC,CAAC,EAAI,MAAM,CAC3E,KAAM,CAAAG,UAAU,CAAG,CAACZ,IAAI,EAAI,EAAE,EAAEa,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACH,OAAO,CAAC,SAAS,CAAE,EAAE,CAAC,CAACF,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,EAAI,MAAM,CACjG,SAAAM,MAAA,CAAUT,OAAO,MAAAS,MAAA,CAAIL,YAAY,MAAAK,MAAA,CAAIH,UAAU,EACjD,CAEA,MAAO,SAAS,CAAAI,gBAAgBA,CAACC,kBAA0B,CAAEjB,IAAY,CAAmC,IAAjC,CAAAC,IAAU,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,GAAI,CAAAG,IAAI,CAAC,CAAC,CAChG,KAAM,CAAAa,QAAQ,CAAGjB,IAAI,CAACM,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAC9C,KAAM,CAAAW,QAAQ,CAAG,CAACF,kBAAkB,EAAI,EAAE,EAAEN,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CAACF,KAAK,CAAC,CAAC,CAAC,CAAC,EAAI,MAAM,CAClF,KAAM,CAAAW,QAAQ,CAAG,CAACpB,IAAI,EAAI,EAAE,EACzBa,IAAI,CAAC,CAAC,CACNC,WAAW,CAAC,CAAC,CACbO,KAAK,CAAC,KAAK,CAAC,CACZC,GAAG,CAAEC,IAAI,EAAKA,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC,CAC7BC,IAAI,CAAC,EAAE,CAAC,CACRhB,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,EAAI,IAAI,CACtB,aAAAM,MAAA,CAAcG,QAAQ,MAAAH,MAAA,CAAII,QAAQ,MAAAJ,MAAA,CAAIK,QAAQ,EAChD,CAEA,MAAO,SAAS,CAAAM,YAAYA,CAACC,UAAkB,CAAU,CACvD,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAAvB,IAAI,CAACsB,UAAU,CAAC,CAChC,KAAM,CAAAE,KAAK,CAAG,GAAI,CAAAxB,IAAI,CAAC,CAAC,CACxB,GAAI,CAAAyB,GAAG,CAAGD,KAAK,CAACtB,WAAW,CAAC,CAAC,CAAGqB,GAAG,CAACrB,WAAW,CAAC,CAAC,CACjD,KAAM,CAAAwB,CAAC,CAAGF,KAAK,CAACG,QAAQ,CAAC,CAAC,CAAGJ,GAAG,CAACI,QAAQ,CAAC,CAAC,CAC3C,GAAID,CAAC,CAAG,CAAC,EAAKA,CAAC,GAAK,CAAC,EAAIF,KAAK,CAACI,OAAO,CAAC,CAAC,CAAGL,GAAG,CAACK,OAAO,CAAC,CAAE,CAAE,CACzDH,GAAG,EAAE,CACP,CACA,MAAO,CAAAA,GAAG,CAAG,CAAC,CAAG,CAAC,CAAGA,GAAG,CAC1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}